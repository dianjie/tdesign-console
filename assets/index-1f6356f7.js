import{d as fe}from"./dayjs.min-70acf2cf.js";import{z as ve,A as ge,C as ye,D as be,E as xe,G as ke,H as we,I as Ce,J as Se,K as $e,L as Re,N as Fe,O as Te,P as Le,d as q,Q as C,r as f,o,m as g,w as e,c as S,R as V,F as P,q as D,t as E,S as Z,_ as K,T as Be,U,p as M,a as t,V as Q,s as j,b as v,l as Y,u as z,f as X,W as Ae,X as He,Y as W,e as R,x as Me,y as je,Z as te,$ as ne,a0 as se,a1 as De,k as ie,a2 as Ee,B as ue,a3 as Ne,a4 as ee,a5 as qe,i as de,a6 as Oe,a7 as Pe,n as Ie}from"./index-357a89bc.js";import{p as $}from"./useDesign-16212514.js";import{F as ze}from"./index-554f383e.js";import{L as pe,_ as Ue}from"./page-config.vue_vue_type_style_index_0_lang-9f764c76.js";import{u as Ge}from"./index-1d3f8cec.js";var Ve="[object Boolean]";function Ke(n){return n===!0||n===!1||ve(n)&&ge(n)==Ve}var Ye="[object Map]",We="[object Set]",Je=Object.prototype,Qe=Je.hasOwnProperty;function Xe(n){if(n==null)return!0;if(ye(n)&&(be(n)||typeof n=="string"||typeof n.splice=="function"||xe(n)||ke(n)||we(n)))return!n.length;var y=Ce(n);if(y==Ye||y==We)return!n.size;if(Se(n))return!$e(n).length;for(var l in n)if(Qe.call(n,l))return!1;return!0}function Ze(n){return n===void 0}var et=Re(function(n){return Fe(Te(n,1,Le,!0))});const tt=et;const ot=q({__name:"Breadcrumb",setup(n){const y=C(()=>{const l=Z(),p=l.path.split("/");return p.shift(),p.reduce((u,d,x)=>{var r,_,w;const s=(r=l.matched[x])==null?void 0:r.meta;return s!=null&&s.hiddenBreadcrumb||Object.values(l.params).includes(d)||u.push({path:d,to:u[x-1]?`/${u[x-1].path}/${d}`:`/${d}`,title:((w=(_=l.matched[x])==null?void 0:_.meta)==null?void 0:w.title)??d}),u},[])});return(l,p)=>{const a=f("t-breadcrumbItem"),u=f("t-breadcrumb");return o(),g(u,{"max-item-width":"150",class:"tdesign-breadcrumb"},{default:e(()=>[(o(!0),S(P,null,V(y.value,d=>(o(),g(a,{key:d.to,to:d.to},{default:e(()=>[D(E(d.title),1)]),_:2},1032,["to"]))),128))]),_:1})}}});const nt=K(ot,[["__scopeId","data-v-e3e9c388"]]),st=q({__name:"Content",setup(n){const y=C(()=>{const p=Q(),{tabRouters:a}=p;return a.filter(u=>{var s;const d=(s=u.meta)==null?void 0:s.keepAlive,x=Ze(d)||Ke(d)&&d;return u.isAlive&&x}).map(u=>u.name)}),l=C(()=>{const p=Q(),{refreshing:a}=p;return a});return(p,a)=>{const u=f("router-view");return o(),S(P,null,[l.value?M("",!0):(o(),g(u,{key:0},{default:e(({Component:d})=>[(o(),g(Be,{include:y.value},[(o(),g(U(d)))],1032,["include"]))]),_:1})),t(ze)],64)}}}),at=q({__name:"Footer",setup(n){return(y,l)=>(o(),S("div",{class:j(v($)+"-footer")},"Copyright © 2021-"+E(new Date().getFullYear())+" Tencent. All Rights Reserved",3))}});const rt=K(at,[["__scopeId","data-v-ea894511"]]),ae=q({__name:"LayoutContent",setup(n){const y=Z(),l=Y(),p=z(),a=Q(),u=C(()=>a.tabRouters.filter(c=>c.isAlive||c.isHome)),d=X(""),x=c=>{const{tabRouters:h}=a,k=h.find(T=>T.path===c);l.push({path:c,query:k.query})},s=c=>{const{tabRouters:h}=a,k=h[c.index+1]||h[c.index-1];a.subtractCurrentTabRouter({path:c.value,routeIdx:c.index}),c.value===y.path&&l.push({path:k.path,query:k.query})},r=(c,h)=>{a.toggleTabRouterAlive(h),Ae(()=>{a.toggleTabRouterAlive(h),l.replace({path:c.path,query:c.query})}),d.value=null},_=(c,h)=>{a.subtractTabRouterAhead({path:c,routeIdx:h}),i("ahead",h)},w=(c,h)=>{a.subtractTabRouterBehind({path:c,routeIdx:h}),i("behind",h)},b=(c,h)=>{a.subtractTabRouterOther({path:c,routeIdx:h}),i("other",h)},i=(c,h)=>{const k=l.currentRoute.value.path,{tabRouters:T}=a,m=T.findIndex(H=>H.path===k);if(c==="other"&&m!==h||c==="ahead"&&m<h||c==="behind"&&m===-1){const H=c==="behind"?T.length-1:1,O=T[H];l.push({path:O.path,query:O.query})}d.value=null},F=(c,h,k)=>{h.trigger==="document"&&(d.value=null),c&&(d.value=k)},L=c=>{const{tabRouters:h}=a;[h[c.currentIndex],h[c.targetIndex]]=[h[c.targetIndex],h[c.currentIndex]]};return(c,h)=>{const k=f("t-icon"),T=f("t-dropdown-item"),m=f("t-dropdown-menu"),A=f("t-dropdown"),H=f("t-tab-panel"),O=f("t-tabs"),B=f("t-content"),G=f("t-footer"),J=f("t-layout");return o(),g(J,{class:j(`${v($)}-layout`)},{default:e(()=>[v(p).isUseTabsRouter?(o(),g(O,{key:0,"drag-sort":"",theme:"card",class:j(`${v($)}-layout-tabs-nav`),value:c.$route.path,style:{position:"sticky",top:0,width:"100%"},onChange:x,onRemove:s,onDragSort:L},{default:e(()=>[(o(!0),S(P,null,V(u.value,(N,I)=>(o(),g(H,{key:`${N.path}_${I}`,value:N.path,removable:!N.isHome,draggable:!N.isHome},{label:e(()=>[t(A,{trigger:"context-menu","min-column-width":128,"popup-props":{overlayClassName:"route-tabs-dropdown",onVisibleChange:(he,me)=>F(he,me,N.path),visible:d.value===N.path}},{dropdown:e(()=>[t(m,null,{default:e(()=>[t(T,{onClick:()=>r(N,I)},{default:e(()=>[t(k,{name:"refresh"}),D(" 刷新 ")]),_:2},1032,["onClick"]),I>1?(o(),g(T,{key:0,onClick:()=>_(N.path,I)},{default:e(()=>[t(k,{name:"arrow-left"}),D(" 关闭左侧 ")]),_:2},1032,["onClick"])):M("",!0),I<u.value.length-1?(o(),g(T,{key:1,onClick:()=>w(N.path,I)},{default:e(()=>[t(k,{name:"arrow-right"}),D(" 关闭右侧 ")]),_:2},1032,["onClick"])):M("",!0),u.value.length>2?(o(),g(T,{key:2,onClick:()=>b(N.path,I)},{default:e(()=>[t(k,{name:"close-circle"}),D(" 关闭其它 ")]),_:2},1032,["onClick"])):M("",!0)]),_:2},1024)]),default:e(()=>[N.isHome?(o(),g(k,{key:1,name:"home"})):(o(),S(P,{key:0},[D(E(N.title),1)],64))]),_:2},1032,["popup-props"])]),_:2},1032,["value","removable","draggable"]))),128))]),_:1},8,["class","value"])):M("",!0),t(B,{class:j(`${v($)}-content-layout`)},{default:e(()=>[v(p).showBreadcrumb?(o(),g(nt,{key:0})):M("",!0),t(st)]),_:1},8,["class"]),v(p).showFooter?(o(),g(G,{key:1,class:j(`${v($)}-footer-layout`)},{default:e(()=>[t(rt)]),_:1},8,["class"])):M("",!0)]),_:1},8,["class"])}}}),_e=q({__name:"MenuContent",props:{navData:{type:Array,default:()=>[]}},setup(n){const y=n,l=C(()=>{const{navData:s}=y;return a(s)}),p=s=>typeof s.icon=="string"?t(f("t-icon"),{name:s.icon},null):s.icon,a=s=>!s||s.length===0?[]:(s.sort((r,_)=>{var w,b;return(((w=r.meta)==null?void 0:w.orderNo)||0)-(((b=_.meta)==null?void 0:b.orderNo)||0)}),s.map(r=>{var _,w;return{path:r.path,title:(_=r.meta)==null?void 0:_.title,icon:(w=r.meta)==null?void 0:w.icon,children:a(r.children),meta:r.meta,redirect:r.redirect}}).filter(r=>r.meta&&r.meta.hidden!==!0)),u=s=>{const{frameSrc:r,frameBlank:_}=s.meta;return r&&_?r.match(/(http|https):\/\/([\w.]+\/?)\S*/):null},d=s=>{var r;return(r=s.meta)!=null&&r.single?s.redirect:s.path},x=s=>{window.open(s)};return(s,r)=>{const _=f("t-menu-item"),w=f("menu-content",!0),b=f("t-submenu");return o(),S("div",null,[(o(!0),S(P,null,V(l.value,i=>{var F;return o(),S(P,{key:i.path},[!i.children||!i.children.length||(F=i.meta)!=null&&F.single?(o(),S(P,{key:0},[u(i)?(o(),g(_,{key:0,name:i.path,value:d(i),onClick:L=>x(u(i)[0])},{icon:e(()=>[(o(),g(U(p(i)),{class:"t-icon"}))]),default:e(()=>[D(" "+E(i.title),1)]),_:2},1032,["name","value","onClick"])):(o(),g(_,{key:1,name:i.path,value:d(i),to:i.path},{icon:e(()=>[(o(),g(U(p(i)),{class:"t-icon"}))]),default:e(()=>[D(" "+E(i.title),1)]),_:2},1032,["name","value","to"]))],64)):(o(),g(b,{key:1,name:i.path,value:i.path,title:i.title},{icon:e(()=>[(o(),g(U(p(i)),{class:"t-icon"}))]),default:e(()=>[i.children?(o(),g(w,{key:0,"nav-data":i.children},null,8,["nav-data"])):M("",!0)]),_:2},1032,["name","value","title"]))],64)}),128))])}}}),oe=n=>(Me("data-v-e657e3e6"),n=n(),je(),n),ct={class:"header-msg"},lt={class:"header-msg-top"},it=oe(()=>R("p",null,"通知中心",-1)),ut={class:"msg-content"},dt={class:"msg-type"},pt={class:"msg-time"},_t={key:1,class:"empty-list"},ht=oe(()=>R("img",{src:"https://tdesign.gtimg.com/pro-template/personal/nothing.png",alt:"空"},null,-1)),mt=oe(()=>R("p",null,"暂无通知",-1)),ft=[ht,mt],vt={class:"header-msg-bottom"},gt=q({__name:"Notice",setup(n){const y=Y(),l=He(),{msgData:p,unreadMsg:a}=W(l),u=(x,s)=>{const r=p.value;x==="all"?r.forEach(_=>{_.status=!1}):r.forEach(_=>{_.id===(s==null?void 0:s.id)&&(_.status=!1)}),l.setMsgData(r)},d=()=>{y.push("/detail/secondary")};return(x,s)=>{const r=f("t-button"),_=f("t-list-item"),w=f("t-list"),b=f("t-icon"),i=f("t-badge"),F=f("t-popup");return o(),g(F,{"expand-animation":"",placement:"bottom-right",trigger:"click"},{content:e(()=>[R("div",ct,[R("div",lt,[it,v(a).length>0?(o(),g(r,{key:0,class:"clear-btn",variant:"text",theme:"primary",onClick:s[0]||(s[0]=L=>u("all"))},{default:e(()=>[D("清空")]),_:1})):M("",!0)]),v(a).length>0?(o(),g(w,{key:0,class:"narrow-scrollbar",split:!1},{default:e(()=>[(o(!0),S(P,null,V(v(a),(L,c)=>(o(),g(_,{key:c},{action:e(()=>[t(r,{size:"small",variant:"outline",onClick:h=>u("radio",L)},{default:e(()=>[D(" 设为已读 ")]),_:2},1032,["onClick"])]),default:e(()=>[R("div",null,[R("p",ut,E(L.content),1),R("p",dt,E(L.type),1)]),R("p",pt,E(L.date),1)]),_:2},1024))),128))]),_:1})):(o(),S("div",_t,ft)),R("div",vt,[v(a).length>0?(o(),g(r,{key:0,class:"header-msg-bottom-link",variant:"text",theme:"default",block:"",onClick:d},{default:e(()=>[D("查看全部")]),_:1})):M("",!0)])])]),default:e(()=>[t(i,{count:v(a).length,offset:[4,4]},{default:e(()=>[t(r,{theme:"default",shape:"square",variant:"text"},{default:e(()=>[t(b,{name:"mail"})]),_:1})]),_:1},8,["count"])]),_:1})}}});const yt=K(gt,[["__scopeId","data-v-e657e3e6"]]),bt={class:"my-autocomplete"},xt=["onClick"],kt={class:"title"},wt={class:"title__name"},Ct={class:"addr"},St={style:{"text-align":"center",padding:"8px"}},$t=q({__name:"SelectSearch",props:{layout:String},setup(n){const y=n,l=te(),{backMenuList:p}=W(l),a=X(""),u=X(!1),d=C(()=>y.layout==="side"),x=m=>{u.value=m},s=m=>{const A=[];function H(O){O.forEach(B=>{Xe(B.children)?A.push(B):H(B.children)})}return H(m),A},r=C(()=>s(p.value)),_=C(()=>a.value?r.value.filter(m=>m.title.includes(a.value)):r.value),w=m=>m.path.match(/(http|https):\/\/([\w.]+\/?)\S*/),b=m=>{var A;return(A=m.meta)!=null&&A.single?m.redirect:m.path},i=m=>m.icon&&typeof m.icon=="string",F=m=>De(m.icon)&&typeof m.icon.render=="function"?{can:!0,render:m.icon.render}:{can:!1,render:null},L=m=>{m&&window.open(m)},c=Y(),h=m=>{const A=w(m);if(A)L(A[0]);else{const H=b(m);c.push({path:H})}u.value=!1,a.value=void 0},k=Ge(m=>{a.value=m},500),T=()=>{a.value=void 0};return(m,A)=>{const H=f("t-icon"),O=f("t-select-input");return o(),S("div",{class:j({"header-menu-search":d.value,"header-menu-search-left":!d.value})},[t(O,{value:a.value,"popup-visible":u.value,placeholder:"请输入搜索内容",borderless:!0,"allow-input":"",clearable:"","popup-props":{overlayInnerClassName:["narrow-scrollbar"],overlayInnerStyle:{maxHeight:"280px",overflowY:"auto",overscrollBehavior:"contain"}},onPopupVisibleChange:x,onClear:T,onInputChange:v(k)},{label:e(()=>[t(H,{class:"icon",name:"search",size:"20",style:{"margin-right":"6px"}})]),panel:e(()=>[ne(R("ul",bt,[(o(!0),S(P,null,V(_.value,(B,G)=>(o(),S("li",{key:`${B.name}${G}`,onClick:J=>h(B)},[R("div",kt,[i(B)?(o(),g(H,{key:0,class:"title__icon",name:B.icon},null,8,["name"])):F(B).can?(o(),g(U(F(B).render),{key:1,class:"title__icon"})):M("",!0),R("span",wt,E(B.title),1)]),R("div",Ct,[R("span",null,E(B.path),1)])],8,xt))),128))],512),[[se,_.value.length&&u.value]]),ne(R("div",St,"暂无数据",512),[[se,!_.value.length&&u.value]])]),_:1},8,["value","popup-visible","onInputChange"])],2)}}});const re=K($t,[["__scopeId","data-v-c8b02533"]]),Rt={key:1,class:"header-operate-left"},Ft={class:"operations-container"},Tt={class:"header-user-account"},Lt=q({__name:"Header",props:{theme:{type:String,default:"light"},layout:{type:String,default:"top"},showLogo:{type:Boolean,default:!0},menu:{type:Array,default:()=>[]},isFixed:{type:Boolean,default:!1},isCompact:{type:Boolean,default:!1},maxLevel:{type:Number,default:3}},setup(n){const y=n,l=Y(),p=z(),a=ie(),u=()=>{p.updateConfig({showSettingPanel:!0})},d=C(()=>ee()),x=C(()=>[`${$}-header-layout`]),s=C(()=>{const{isFixed:c,layout:h,isCompact:k}=y;return[{[`${$}-header-menu`]:!c,[`${$}-header-menu-fixed`]:c,[`${$}-header-menu-fixed-side`]:h==="side"&&c,[`${$}-header-menu-fixed-side-compact`]:h==="side"&&c&&k}]}),r=C(()=>y.theme),_=()=>{p.updateConfig({isSidebarCompact:!p.isSidebarCompact})},w=c=>{l.push(c)},b=()=>{a.logout(!0)},i=()=>{window.open("https://github.com/dianjie/tdesign-console")},F=()=>{window.open("https://github.com/dianjie/tdesign-console")},L=C(()=>a.avatar);return(c,h)=>{const k=f("t-icon"),T=f("t-button"),m=f("t-tooltip"),A=f("t-dropdown-item"),H=f("t-dropdown-menu"),O=f("t-avatar"),B=f("t-dropdown"),G=f("t-head-menu");return o(),S("div",{class:j(x.value)},[t(G,{class:j(s.value),theme:r.value,"expand-type":"popup",value:d.value},Ee({logo:e(()=>[n.showLogo?(o(),S("span",{key:0,class:"header-logo-container",onClick:h[0]||(h[0]=J=>w(v(ue)))},[t(v(pe),{class:"t-logo"})])):(o(),S("div",Rt,[t(T,{theme:"default",shape:"square",variant:"text",onClick:_},{default:e(()=>[t(k,{class:"collapsed-icon",name:"view-list"})]),_:1}),t(re,{layout:n.layout},null,8,["layout"])]))]),operations:e(()=>[R("div",Ft,[n.layout!=="side"?(o(),g(re,{key:0,layout:n.layout},null,8,["layout"])):M("",!0),t(yt),t(m,{placement:"bottom",content:"代码仓库"},{default:e(()=>[t(T,{theme:"default",shape:"square",variant:"text",onClick:i},{default:e(()=>[t(k,{name:"logo-github"})]),_:1})]),_:1}),t(m,{placement:"bottom",content:"帮助文档"},{default:e(()=>[t(T,{theme:"default",shape:"square",variant:"text",onClick:F},{default:e(()=>[t(k,{name:"help-circle"})]),_:1})]),_:1}),t(B,{"min-column-width":135,trigger:"click"},{dropdown:e(()=>[t(H,null,{default:e(()=>[t(A,{class:"operations-dropdown-container-item",onClick:h[1]||(h[1]=J=>w(v(Ne)))},{default:e(()=>[t(k,{name:"user-circle"}),D("个人中心 ")]),_:1}),t(A,{class:"operations-dropdown-container-item",onClick:b},{default:e(()=>[t(k,{name:"poweroff"}),D("退出登录 ")]),_:1})]),_:1})]),default:e(()=>[t(T,{class:"header-user-btn",theme:"default",variant:"text"},{icon:e(()=>[t(O,{image:L.value,size:"small",class:"header-user-avatar"},null,8,["image"])]),suffix:e(()=>[t(k,{name:"chevron-down"})]),default:e(()=>[R("div",Tt,E(v(a).account),1)]),_:1})]),_:1}),t(m,{placement:"bottom",content:"系统设置"},{default:e(()=>[t(T,{theme:"default",shape:"square",variant:"text",onClick:u},{default:e(()=>[t(k,{name:"setting"})]),_:1})]),_:1})])]),_:2},[n.layout!=="side"?{name:"default",fn:e(()=>[t(_e,{class:"header-menu","nav-data":n.menu},null,8,["nav-data"])]),key:"0"}:void 0]),1032,["class","theme","value"])],2)}}});const Bt=K(Lt,[["__scopeId","data-v-095180db"]]),ce=q({__name:"LayoutHeader",setup(n){const y=te(),l=z(),{backMenuList:p}=W(y),a=C(()=>l.layout==="mix"?l.splitMenu?p.value.map(u=>({...u,children:[]})):[]:p.value);return(u,d)=>v(l).showHeader?(o(),g(Bt,{key:0,"show-logo":v(l).showHeaderLogo,theme:v(l).displayMode,layout:v(l).layout,"is-fixed":v(l).isHeaderFixed,menu:a.value,"is-compact":v(l).isSidebarCompact},null,8,["show-logo","theme","layout","is-fixed","menu","is-compact"])):M("",!0)}}),At={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 32 32"},Ht=qe('<g clip-path="url(#a)"><path fill="url(#b)" d="M9.14 8.252h-5.6a.561.561 0 0 1-.553-.66l.89-5.146A.544.544 0 0 1 4.414 2h5.792z"></path><path fill="url(#c)" d="M13.03 21.473H6.778l2.34-13.226h6.252z"></path><path fill="url(#d)" d="M11.47 27.725H6.343a.566.566 0 0 1-.553-.656l.994-5.583h6.238l-1.025 5.793a.543.543 0 0 1-.525.445"></path><path fill="url(#e)" d="M26.666 8.252H9.141l1.105-6.239H27.58a.566.566 0 0 1 .552.66L27.22 7.82a.535.535 0 0 1-.553.432"></path></g><defs><linearGradient id="b" x1="2.717" x2="10.062" y1="5.128" y2="4.981" gradientUnits="userSpaceOnUse"><stop stop-color="#0062FF"></stop><stop offset=".26" stop-color="#006AFF"></stop><stop offset=".68" stop-color="#0081FF"></stop><stop offset="1" stop-color="#0097FF"></stop></linearGradient><linearGradient id="c" x1="12.383" x2="9.123" y1="7.623" y2="22.042" gradientUnits="userSpaceOnUse"><stop stop-color="#0097FF"></stop><stop offset=".32" stop-color="#0081FF"></stop><stop offset=".74" stop-color="#006AFF"></stop><stop offset="1" stop-color="#0062FF"></stop></linearGradient><linearGradient id="d" x1="5.631" x2="12.858" y1="27.363" y2="21.473" gradientUnits="userSpaceOnUse"><stop stop-color="#009EFF"></stop><stop offset=".31" stop-color="#00A3FF"></stop><stop offset=".71" stop-color="#00B3FF"></stop><stop offset="1" stop-color="#00C3FF"></stop></linearGradient><linearGradient id="e" x1="8.849" x2="27.94" y1="5.128" y2="4.746" gradientUnits="userSpaceOnUse"><stop offset=".03" stop-color="#ECFFFE"></stop><stop offset=".19" stop-color="#AFF1D9"></stop><stop offset=".34" stop-color="#79E5B9"></stop><stop offset=".49" stop-color="#4EDB9F"></stop><stop offset=".63" stop-color="#2CD48A"></stop><stop offset=".77" stop-color="#14CE7C"></stop><stop offset=".89" stop-color="#05CB73"></stop><stop offset="1" stop-color="#00CA70"></stop></linearGradient><clipPath id="a"><path fill="#fff" d="M2.978 2h25.14v25.72H2.979z"></path></clipPath></defs>',2),Mt=[Ht];function jt(n,y){return o(),S("svg",At,[...Mt])}const Dt={render:jt},Et="tdesign-console",Nt="0.9.0",qt={"dev:mock":"vite --open --mode mock",dev:"vite --open --mode development","dev:linux":"vite --mode development","build:mock":"vite build --mode mock","build:test":"vite build --mode test",build:"vue-tsc --noEmit && vite build --mode release",preview:"vite preview","type-check":"vue-tsc --noEmit",lint:"eslint --ext .vue,.js,.jsx,.ts,.tsx ./ --max-warnings 0","lint:fix":"eslint --ext .vue,.js,jsx,.ts,.tsx ./ --max-warnings 0 --fix",stylelint:"stylelint src/**/*.{html,vue,sass,less}","stylelint:fix":"stylelint --fix src/**/*.{html,vue,css,sass,less}",prepare:"husky install","site:preview":"npm run build && cp -r dist _site",test:'echo "no test specified,work in process"',"test:coverage":'echo "no test:coverage specified,work in process"',"gh-pages":"gh-pages -d dist"},Ot={"@vueuse/core":"^10.6.1",axios:"^1.6.2","crypto-js":"^4.1.1",dayjs:"^1.11.10",echarts:"5.1.2","lodash-es":"^4.17.21",nprogress:"^0.2.0",pinia:"^2.1.7","pinia-plugin-persistedstate":"^3.2.0","qrcode.vue":"^3.4.1",qs:"^6.11.2","tdesign-icons-vue-next":"^0.2.2","tdesign-vue-next":"^1.6.8","tvision-color":"^1.6.0",vue:"^3.3.8","vue-clipboard3":"^2.0.0","vue-i18n":"^9.6.5","vue-router":"~4.2.4"},Pt={"@commitlint/cli":"^17.8.1","@commitlint/config-conventional":"^17.8.1","@types/crypto-js":"^4.1.1","@types/echarts":"^4.9.21","@types/lodash-es":"^4.17.6","@types/nprogress":"^0.2.3","@types/qs":"^6.9.10","@typescript-eslint/eslint-plugin":"^6.11.0","@typescript-eslint/parser":"^6.11.0","@vitejs/plugin-vue":"^4.4.1","@vitejs/plugin-vue-jsx":"^3.0.2","@vue/compiler-sfc":"^3.3.8","@vue/eslint-config-typescript":"^12.0.0",commitizen:"^4.3.0","cz-conventional-changelog":"^3.3.0",eslint:"^8.53.0","eslint-config-airbnb-base":"^15.0.0","eslint-config-prettier":"^9.0.0","eslint-plugin-import":"^2.29.0","eslint-plugin-prettier":"^5.0.1","eslint-plugin-simple-import-sort":"^10.0.0","eslint-plugin-vue":"^9.18.1","eslint-plugin-vue-scoped-css":"^2.5.1","gh-pages":"^5.0.0",husky:"^8.0.3",less:"^4.2.0","lint-staged":"^14.0.1",mockjs:"^1.1.0","postcss-html":"^1.5.0","postcss-less":"^6.0.0",prettier:"^3.1.0",stylelint:"~15.11.0","stylelint-config-standard":"^34.0.0","stylelint-order":"~6.0.3",typescript:"~5.3.2",vite:"^4.5.0","vite-plugin-mock":"^2.9.6","vite-svg-loader":"^4.0.0","vue-tsc":"^1.8.22"},It={commitizen:{path:"./node_modules/cz-conventional-changelog"}},zt="Base on tdesign-starter-cli",Ut={node:">=12.0.0"},Gt={name:Et,version:Nt,scripts:qt,dependencies:Ot,devDependencies:Pt,config:It,"lint-staged":{"*.{js,jsx,vue,ts,tsx}":["eslint --max-warnings 0 --fix","prettier --write"],"*.{html,vue,vss,sass,less}":["stylelint --fix"]},description:zt,engines:Ut},Vt={class:"version-container"},Kt=992-1,Yt=q({__name:"SideNav",props:{menu:{type:Array,default:()=>[]},showLogo:{type:Boolean,default:!0},isFixed:{type:Boolean,default:!0},layout:{type:String,default:""},headerHeight:{type:String,default:"64px"},theme:{type:String,default:"light"},isCompact:{type:Boolean,default:!1}},setup(n){const y=n,l=C(()=>z().isSidebarCompact),p=C(()=>ee()),a=C(()=>{const b=ee(),i=b.substring(0,b.lastIndexOf("/")),F=Oe();return tt(F,i===""?[]:[i])}),u=C(()=>{const{isCompact:b}=y;return[`${$}-sidebar-layout`,{[`${$}-sidebar-compact`]:b}]}),d=C(()=>{const{showLogo:b,isFixed:i,layout:F}=y;return[`${$}-side-nav`,{[`${$}-side-nav-no-logo`]:!b,[`${$}-side-nav-no-fixed`]:!i,[`${$}-side-nav-mix-fixed`]:F==="mix"&&i}]}),x=Y(),s=z(),r=()=>{const b=window.innerWidth<=Kt;s.updateConfig({isSidebarCompact:b})};de(()=>{r(),window.onresize=()=>{r()}});const _=()=>{x.push(ue)},w=()=>l.value?Dt:pe;return(b,i)=>{const F=f("t-menu");return o(),S("div",{class:j(u.value)},[t(F,{class:j(d.value),theme:n.theme,value:p.value,collapsed:l.value,"default-expanded":a.value},{logo:e(()=>[n.showLogo?(o(),S("span",{key:0,class:j(`${v($)}-side-nav-logo-wrapper`),onClick:_},[(o(),g(U(w()),{class:j(`${v($)}-side-nav-logo-${l.value?"t":"tdesign"}-logo`)},null,8,["class"]))],2)):M("",!0)]),operations:e(()=>[R("span",Vt,E(l.value?"":"TDesign Starter")+" "+E(v(Gt).version),1)]),default:e(()=>[t(_e,{"nav-data":n.menu},null,8,["nav-data"])]),_:1},8,["class","theme","value","collapsed","default-expanded"]),R("div",{class:j(`${v($)}-side-nav-placeholder${l.value?"-hidden":""}`)},null,2)],2)}}}),le=q({__name:"LayoutSideNav",setup(n){const y=Z(),l=te(),p=z(),{backMenuList:a}=W(l),u=C(()=>{const{layout:d,splitMenu:x}=p;let s=a.value;return d==="mix"&&x&&s.forEach(r=>{y.path.indexOf(r.path)===0&&(s=r.children.map(_=>({..._,path:`${r.path}/${_.path}`})))}),s});return(d,x)=>v(p).showSidebar?(o(),g(Yt,{key:0,"show-logo":v(p).showSidebarLogo,layout:v(p).layout,"is-fixed":v(p).isSidebarFixed,menu:u.value,theme:v(p).displayMode,"is-compact":v(p).isSidebarCompact},null,8,["show-logo","layout","is-fixed","menu","theme","is-compact"])):M("",!0)}}),to=q({__name:"index",setup(n){const y=Z(),l=z(),p=Q(),a=W(l),u=C(()=>[{"t-layout--with-sider":l.showSidebar}]),d=()=>{const{path:_,query:w,meta:{title:b},name:i}=y;p.appendTabRouterList({path:_,query:w,title:b,name:i,meta:y.meta,isAlive:!0})},x=X(!1),s=ie(),r=()=>{setInterval(async()=>{const _=s.getTokenTime;if(!_)return;fe().diff(_,"second")>=Ie.tokenTime&&!x.value&&(x.value=!0,await s.handleRefreshToken(),x.value=!1,console.log("token刷新成功"))},1e4)};return de(()=>{d(),r()}),Pe(()=>y.path,()=>{d(),document.querySelector(`.${$}-layout`).scrollTo({top:0,behavior:"smooth"})}),(_,w)=>{const b=f("t-aside"),i=f("t-header"),F=f("t-content"),L=f("t-layout");return o(),S("div",null,[v(a).layout.value==="side"?(o(),g(L,{key:"side",class:j(u.value)},{default:e(()=>[t(b,null,{default:e(()=>[t(le)]),_:1}),t(L,null,{default:e(()=>[t(i,null,{default:e(()=>[t(ce)]),_:1}),t(F,null,{default:e(()=>[t(ae)]),_:1})]),_:1})]),_:1},8,["class"])):(o(),g(L,{key:"no-side"},{default:e(()=>[t(i,null,{default:e(()=>[t(ce)]),_:1}),t(L,{class:j(u.value)},{default:e(()=>[t(le),t(ae)]),_:1},8,["class"])]),_:1})),t(Ue)])}}});export{to as default};
