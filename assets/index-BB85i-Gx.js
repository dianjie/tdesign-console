import{d as fe}from"./dayjs.min-Bc-_J90b.js";import{z as ve,A as ge,C as ye,D as be,E as we,G as xe,H as ke,I as Ce,J as Se,K as $e,L as Re,N as Fe,O as Te,P as Le,d as N,Q as C,r as f,o as n,m as g,w as e,c as R,R as V,F as O,q as D,t as E,S as Z,_ as K,T as Ae,U,p as H,a as t,V as Q,s as j,b as v,u as z,f as X,l as Y,W as Be,X as Me,Y as W,e as $,x as He,y as je,Z as te,$ as ne,a0 as se,a1 as De,k as ie,a2 as Ee,B as ue,a3 as Ne,a4 as ee,a5 as qe,i as de,a6 as Ie,a7 as Oe,n as Pe}from"./index-OjS_2jsV.js";import{p as S}from"./useDesign-CbWcZHFZ.js";import{F as ze}from"./index-BrNqF5BI.js";import{L as pe,_ as Ue}from"./page-config.vue_vue_type_style_index_0_lang-CySukoyo.js";import{u as Ge}from"./index-BiO29gyn.js";var Ve="[object Boolean]";function Ke(o){return o===!0||o===!1||ve(o)&&ge(o)==Ve}var Ye="[object Map]",We="[object Set]",Je=Object.prototype,Qe=Je.hasOwnProperty;function Xe(o){if(o==null)return!0;if(ye(o)&&(be(o)||typeof o=="string"||typeof o.splice=="function"||we(o)||xe(o)||ke(o)))return!o.length;var y=Ce(o);if(y==Ye||y==We)return!o.size;if(Se(o))return!$e(o).length;for(var l in o)if(Qe.call(o,l))return!1;return!0}function Ze(o){return o===void 0}var et=Re(function(o){return Fe(Te(o,1,Le,!0))});const tt=N({__name:"Breadcrumb",setup(o){const y=C(()=>{const l=Z(),p=l.path.split("/");return p.shift(),p.reduce((u,d,w)=>{var r,h,k;const s=(r=l.matched[w])==null?void 0:r.meta;return s!=null&&s.hiddenBreadcrumb||Object.values(l.params).includes(d)||u.push({path:d,to:u[w-1]?`/${u[w-1].path}/${d}`:`/${d}`,title:((k=(h=l.matched[w])==null?void 0:h.meta)==null?void 0:k.title)??d}),u},[])});return(l,p)=>{const a=f("t-breadcrumbItem"),u=f("t-breadcrumb");return n(),g(u,{"max-item-width":"150",class:"tdesign-breadcrumb"},{default:e(()=>[(n(!0),R(O,null,V(y.value,d=>(n(),g(a,{key:d.to,to:d.to},{default:e(()=>[D(E(d.title),1)]),_:2},1032,["to"]))),128))]),_:1})}}}),ot=K(tt,[["__scopeId","data-v-e3e9c388"]]),nt=N({__name:"Content",setup(o){const y=C(()=>{const p=Q(),{tabRouters:a}=p;return a.filter(u=>{var s;const d=(s=u.meta)==null?void 0:s.keepAlive,w=Ze(d)||Ke(d)&&d;return u.isAlive&&w}).map(u=>u.name)}),l=C(()=>{const p=Q(),{refreshing:a}=p;return a});return(p,a)=>{const u=f("router-view");return n(),R(O,null,[l.value?H("",!0):(n(),g(u,{key:0},{default:e(({Component:d})=>[(n(),g(Ae,{include:y.value},[(n(),g(U(d)))],1032,["include"]))]),_:1})),t(ze)],64)}}}),st=N({__name:"Footer",setup(o){return(y,l)=>(n(),R("div",{class:j(v(S)+"-footer")},"Copyright © 2021-"+E(new Date().getFullYear())+" Tencent. All Rights Reserved",3))}}),at=K(st,[["__scopeId","data-v-244838c5"]]),ae=N({__name:"LayoutContent",setup(o){const y=Z(),l=Y(),p=z(),a=Q(),u=C(()=>a.tabRouters.filter(c=>c.isAlive||c.isHome)),d=X(""),w=c=>{const{tabRouters:_}=a,x=_.find(T=>T.path===c);l.push({path:c,query:x.query})},s=c=>{const{tabRouters:_}=a,x=_[c.index+1]||_[c.index-1];a.subtractCurrentTabRouter({path:c.value,routeIdx:c.index}),c.value===y.path&&l.push({path:x.path,query:x.query})},r=(c,_)=>{a.toggleTabRouterAlive(_),Be(()=>{a.toggleTabRouterAlive(_),l.replace({path:c.path,query:c.query})}),d.value=null},h=(c,_)=>{a.subtractTabRouterAhead({path:c,routeIdx:_}),i("ahead",_)},k=(c,_)=>{a.subtractTabRouterBehind({path:c,routeIdx:_}),i("behind",_)},b=(c,_)=>{a.subtractTabRouterOther({path:c,routeIdx:_}),i("other",_)},i=(c,_)=>{const x=l.currentRoute.value.path,{tabRouters:T}=a,m=T.findIndex(M=>M.path===x);if(c==="other"&&m!==_||c==="ahead"&&m<_||c==="behind"&&m===-1){const M=c==="behind"?T.length-1:1,q=T[M];l.push({path:q.path,query:q.query})}d.value=null},F=(c,_,x)=>{_.trigger==="document"&&(d.value=null),c&&(d.value=x)},L=c=>{const{tabRouters:_}=a;[_[c.currentIndex],_[c.targetIndex]]=[_[c.targetIndex],_[c.currentIndex]]};return(c,_)=>{const x=f("t-icon"),T=f("t-dropdown-item"),m=f("t-dropdown-menu"),B=f("t-dropdown"),M=f("t-tab-panel"),q=f("t-tabs"),A=f("t-content"),G=f("t-footer"),J=f("t-layout");return n(),g(J,{class:j(`${v(S)}-layout`)},{default:e(()=>[v(p).isUseTabsRouter?(n(),g(q,{key:0,"drag-sort":"",theme:"card",class:j(`${v(S)}-layout-tabs-nav`),value:c.$route.path,style:{position:"sticky",top:0,width:"100%"},onChange:w,onRemove:s,onDragSort:L},{default:e(()=>[(n(!0),R(O,null,V(u.value,(I,P)=>(n(),g(M,{key:`${I.path}_${P}`,value:I.path,removable:!I.isHome,draggable:!I.isHome},{label:e(()=>[t(B,{trigger:"context-menu","min-column-width":128,"popup-props":{overlayClassName:"route-tabs-dropdown",onVisibleChange:(_e,me)=>F(_e,me,I.path),visible:d.value===I.path}},{dropdown:e(()=>[t(m,null,{default:e(()=>[t(T,{onClick:()=>r(I,P)},{default:e(()=>[t(x,{name:"refresh"}),D(" 刷新 ")]),_:2},1032,["onClick"]),P>1?(n(),g(T,{key:0,onClick:()=>h(I.path,P)},{default:e(()=>[t(x,{name:"arrow-left"}),D(" 关闭左侧 ")]),_:2},1032,["onClick"])):H("",!0),P<u.value.length-1?(n(),g(T,{key:1,onClick:()=>k(I.path,P)},{default:e(()=>[t(x,{name:"arrow-right"}),D(" 关闭右侧 ")]),_:2},1032,["onClick"])):H("",!0),u.value.length>2?(n(),g(T,{key:2,onClick:()=>b(I.path,P)},{default:e(()=>[t(x,{name:"close-circle"}),D(" 关闭其它 ")]),_:2},1032,["onClick"])):H("",!0)]),_:2},1024)]),default:e(()=>[t(x,{name:"home"})]),_:2},1032,["popup-props"])]),_:2},1032,["value","removable","draggable"]))),128))]),_:1},8,["class","value"])):H("",!0),t(A,{class:j(`${v(S)}-content-layout`)},{default:e(()=>[v(p).showBreadcrumb?(n(),g(ot,{key:0})):H("",!0),t(nt)]),_:1},8,["class"]),v(p).showFooter?(n(),g(G,{key:1,class:j(`${v(S)}-footer-layout`)},{default:e(()=>[t(at)]),_:1},8,["class"])):H("",!0)]),_:1},8,["class"])}}}),he=N({__name:"MenuContent",props:{navData:{type:Array,default:()=>[]}},setup(o){const y=o,l=C(()=>{const{navData:s}=y;return a(s)}),p=s=>typeof s.icon=="string"?t(f("t-icon"),{name:s.icon},null):s.icon,a=s=>!s||s.length===0?[]:(s.sort((r,h)=>{var k,b;return(((k=r.meta)==null?void 0:k.orderNo)||0)-(((b=h.meta)==null?void 0:b.orderNo)||0)}),s.map(r=>{var h,k;return{path:r.path,title:(h=r.meta)==null?void 0:h.title,icon:(k=r.meta)==null?void 0:k.icon,children:a(r.children),meta:r.meta,redirect:r.redirect}}).filter(r=>r.meta&&r.meta.hidden!==!0)),u=s=>{const{frameSrc:r,frameBlank:h}=s.meta;return r&&h?r.match(/(http|https):\/\/([\w.]+\/?)\S*/):null},d=s=>{var r;return(r=s.meta)!=null&&r.single?s.redirect:s.path},w=s=>{window.open(s)};return(s,r)=>{const h=f("t-menu-item"),k=f("menu-content",!0),b=f("t-submenu");return n(),R("div",null,[(n(!0),R(O,null,V(l.value,i=>{var F;return n(),R(O,{key:i.path},[!i.children||!i.children.length||(F=i.meta)!=null&&F.single?(n(),R(O,{key:0},[u(i)?(n(),g(h,{key:0,name:i.path,value:d(i),onClick:L=>w(u(i)[0])},{icon:e(()=>[(n(),g(U(p(i)),{class:"t-icon"}))]),default:e(()=>[D(" "+E(i.title),1)]),_:2},1032,["name","value","onClick"])):(n(),g(h,{key:1,name:i.path,value:d(i),to:i.path},{icon:e(()=>[(n(),g(U(p(i)),{class:"t-icon"}))]),default:e(()=>[D(" "+E(i.title),1)]),_:2},1032,["name","value","to"]))],64)):(n(),g(b,{key:1,name:i.path,value:i.path,title:i.title},{icon:e(()=>[(n(),g(U(p(i)),{class:"t-icon"}))]),default:e(()=>[i.children?(n(),g(k,{key:0,"nav-data":i.children},null,8,["nav-data"])):H("",!0)]),_:2},1032,["name","value","title"]))],64)}),128))])}}}),oe=o=>(He("data-v-e657e3e6"),o=o(),je(),o),rt={class:"header-msg"},ct={class:"header-msg-top"},lt=oe(()=>$("p",null,"通知中心",-1)),it={class:"msg-content"},ut={class:"msg-type"},dt={class:"msg-time"},pt={key:1,class:"empty-list"},ht=oe(()=>$("img",{src:"https://tdesign.gtimg.com/pro-template/personal/nothing.png",alt:"空"},null,-1)),_t=oe(()=>$("p",null,"暂无通知",-1)),mt=[ht,_t],ft={class:"header-msg-bottom"},vt=N({__name:"Notice",setup(o){const y=Y(),l=Me(),{msgData:p,unreadMsg:a}=W(l),u=(w,s)=>{const r=p.value;w==="all"?r.forEach(h=>{h.status=!1}):r.forEach(h=>{h.id===(s==null?void 0:s.id)&&(h.status=!1)}),l.setMsgData(r)},d=()=>{y.push("/detail/secondary")};return(w,s)=>{const r=f("t-button"),h=f("t-list-item"),k=f("t-list"),b=f("t-icon"),i=f("t-badge"),F=f("t-popup");return n(),g(F,{"expand-animation":"",placement:"bottom-right",trigger:"click"},{content:e(()=>[$("div",rt,[$("div",ct,[lt,v(a).length>0?(n(),g(r,{key:0,class:"clear-btn",variant:"text",theme:"primary",onClick:s[0]||(s[0]=L=>u("all"))},{default:e(()=>[D("清空")]),_:1})):H("",!0)]),v(a).length>0?(n(),g(k,{key:0,class:"narrow-scrollbar",split:!1},{default:e(()=>[(n(!0),R(O,null,V(v(a),(L,c)=>(n(),g(h,{key:c},{action:e(()=>[t(r,{size:"small",variant:"outline",onClick:_=>u("radio",L)},{default:e(()=>[D(" 设为已读 ")]),_:2},1032,["onClick"])]),default:e(()=>[$("div",null,[$("p",it,E(L.content),1),$("p",ut,E(L.type),1)]),$("p",dt,E(L.date),1)]),_:2},1024))),128))]),_:1})):(n(),R("div",pt,mt)),$("div",ft,[v(a).length>0?(n(),g(r,{key:0,class:"header-msg-bottom-link",variant:"text",theme:"default",block:"",onClick:d},{default:e(()=>[D("查看全部")]),_:1})):H("",!0)])])]),default:e(()=>[t(i,{count:v(a).length,offset:[4,4]},{default:e(()=>[t(r,{theme:"default",shape:"square",variant:"text"},{default:e(()=>[t(b,{name:"mail"})]),_:1})]),_:1},8,["count"])]),_:1})}}}),gt=K(vt,[["__scopeId","data-v-e657e3e6"]]),yt={class:"my-autocomplete"},bt=["onClick"],wt={class:"title"},xt={class:"title__name"},kt={class:"addr"},Ct={style:{"text-align":"center",padding:"8px"}},St=N({__name:"SelectSearch",props:{layout:String},setup(o){const y=o,l=te(),{backMenuList:p}=W(l),a=X(""),u=X(!1),d=C(()=>y.layout==="side"),w=m=>{u.value=m},s=m=>{const B=[];function M(q){q.forEach(A=>{Xe(A.children)?B.push(A):M(A.children)})}return M(m),B},r=C(()=>s(p.value)),h=C(()=>a.value?r.value.filter(m=>m.title.includes(a.value)):r.value),k=m=>m.path.match(/(http|https):\/\/([\w.]+\/?)\S*/),b=m=>{var B;return(B=m.meta)!=null&&B.single?m.redirect:m.path},i=m=>m.icon&&typeof m.icon=="string",F=m=>De(m.icon)&&typeof m.icon.render=="function"?{can:!0,render:m.icon.render}:{can:!1,render:null},L=m=>{m&&window.open(m)},c=Y(),_=m=>{const B=k(m);if(B)L(B[0]);else{const M=b(m);c.push({path:M})}u.value=!1,a.value=void 0},x=Ge(m=>{a.value=m},500),T=()=>{a.value=void 0};return(m,B)=>{const M=f("t-icon"),q=f("t-select-input");return n(),R("div",{class:j({"header-menu-search":d.value,"header-menu-search-left":!d.value})},[t(q,{value:a.value,"popup-visible":u.value,placeholder:"请输入搜索内容",borderless:!0,"allow-input":"",clearable:"","popup-props":{overlayInnerClassName:["narrow-scrollbar"],overlayInnerStyle:{maxHeight:"280px",overflowY:"auto",overscrollBehavior:"contain"}},onPopupVisibleChange:w,onClear:T,onInputChange:v(x)},{label:e(()=>[t(M,{class:"icon",name:"search",size:"20",style:{"margin-right":"6px"}})]),panel:e(()=>[ne($("ul",yt,[(n(!0),R(O,null,V(h.value,(A,G)=>(n(),R("li",{key:`${A.name}${G}`,onClick:J=>_(A)},[$("div",wt,[i(A)?(n(),g(M,{key:0,class:"title__icon",name:A.icon},null,8,["name"])):F(A).can?(n(),g(U(F(A).render),{key:1,class:"title__icon"})):H("",!0),$("span",xt,E(A.title),1)]),$("div",kt,[$("span",null,E(A.path),1)])],8,bt))),128))],512),[[se,h.value.length&&u.value]]),ne($("div",Ct,"暂无数据",512),[[se,!h.value.length&&u.value]])]),_:1},8,["value","popup-visible","onInputChange"])],2)}}}),re=K(St,[["__scopeId","data-v-c8b02533"]]),$t={key:1,class:"header-operate-left"},Rt={class:"operations-container"},Ft={class:"header-user-account"},Tt=N({__name:"Header",props:{theme:{type:String,default:"light"},layout:{type:String,default:"top"},showLogo:{type:Boolean,default:!0},menu:{type:Array,default:()=>[]},isFixed:{type:Boolean,default:!1},isCompact:{type:Boolean,default:!1},maxLevel:{type:Number,default:3}},setup(o){const y=o,l=Y(),p=z(),a=ie(),u=()=>{p.updateConfig({showSettingPanel:!0})},d=C(()=>ee()),w=C(()=>[`${S}-header-layout`]),s=C(()=>{const{isFixed:c,layout:_,isCompact:x}=y;return[{[`${S}-header-menu`]:!c,[`${S}-header-menu-fixed`]:c,[`${S}-header-menu-fixed-side`]:_==="side"&&c,[`${S}-header-menu-fixed-side-compact`]:_==="side"&&c&&x}]}),r=C(()=>y.theme),h=()=>{p.updateConfig({isSidebarCompact:!p.isSidebarCompact})},k=c=>{l.push(c)},b=()=>{a.logout(!0)},i=()=>{window.open("https://github.com/dianjie/tdesign-console")},F=()=>{window.open("https://github.com/dianjie/tdesign-console")},L=C(()=>a.avatar);return(c,_)=>{const x=f("t-icon"),T=f("t-button"),m=f("t-tooltip"),B=f("t-dropdown-item"),M=f("t-dropdown-menu"),q=f("t-avatar"),A=f("t-dropdown"),G=f("t-head-menu");return n(),R("div",{class:j(w.value)},[t(G,{class:j(s.value),theme:r.value,"expand-type":"popup",value:d.value},Ee({logo:e(()=>[o.showLogo?(n(),R("span",{key:0,class:"header-logo-container",onClick:_[0]||(_[0]=J=>k(v(ue)))},[t(v(pe),{class:"t-logo"})])):(n(),R("div",$t,[t(T,{theme:"default",shape:"square",variant:"text",onClick:h},{default:e(()=>[t(x,{class:"collapsed-icon",name:"view-list"})]),_:1}),t(re,{layout:o.layout},null,8,["layout"])]))]),operations:e(()=>[$("div",Rt,[o.layout!=="side"?(n(),g(re,{key:0,layout:o.layout},null,8,["layout"])):H("",!0),t(gt),t(m,{placement:"bottom",content:"代码仓库"},{default:e(()=>[t(T,{theme:"default",shape:"square",variant:"text",onClick:i},{default:e(()=>[t(x,{name:"logo-github"})]),_:1})]),_:1}),t(m,{placement:"bottom",content:"帮助文档"},{default:e(()=>[t(T,{theme:"default",shape:"square",variant:"text",onClick:F},{default:e(()=>[t(x,{name:"help-circle"})]),_:1})]),_:1}),t(A,{"min-column-width":135,trigger:"click"},{dropdown:e(()=>[t(M,null,{default:e(()=>[t(B,{class:"operations-dropdown-container-item",onClick:_[1]||(_[1]=J=>k(v(Ne)))},{default:e(()=>[t(x,{name:"user-circle"}),D("个人中心 ")]),_:1}),t(B,{class:"operations-dropdown-container-item",onClick:b},{default:e(()=>[t(x,{name:"poweroff"}),D("退出登录 ")]),_:1})]),_:1})]),default:e(()=>[t(T,{class:"header-user-btn",theme:"default",variant:"text"},{icon:e(()=>[t(q,{image:L.value,size:"small",class:"header-user-avatar"},null,8,["image"])]),suffix:e(()=>[t(x,{name:"chevron-down"})]),default:e(()=>[$("div",Ft,E(v(a).account),1)]),_:1})]),_:1}),t(m,{placement:"bottom",content:"系统设置"},{default:e(()=>[t(T,{theme:"default",shape:"square",variant:"text",onClick:u},{default:e(()=>[t(x,{name:"setting"})]),_:1})]),_:1})])]),_:2},[o.layout!=="side"?{name:"default",fn:e(()=>[t(he,{class:"header-menu","nav-data":o.menu},null,8,["nav-data"])]),key:"0"}:void 0]),1032,["class","theme","value"])],2)}}}),Lt=K(Tt,[["__scopeId","data-v-095180db"]]),ce=N({__name:"LayoutHeader",setup(o){const y=te(),l=z(),{backMenuList:p}=W(y),a=C(()=>l.layout==="mix"?l.splitMenu?p.value.map(u=>({...u,children:[]})):[]:p.value);return(u,d)=>v(l).showHeader?(n(),g(Lt,{key:0,"show-logo":v(l).showHeaderLogo,theme:v(l).displayMode,layout:v(l).layout,"is-fixed":v(l).isHeaderFixed,menu:a.value,"is-compact":v(l).isSidebarCompact},null,8,["show-logo","theme","layout","is-fixed","menu","is-compact"])):H("",!0)}}),At={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 32 32"},Bt=qe('<g clip-path="url(#a)"><path fill="url(#b)" d="M9.14 8.252h-5.6a.56.56 0 0 1-.553-.66l.89-5.146A.544.544 0 0 1 4.414 2h5.792z"></path><path fill="url(#c)" d="M13.03 21.473H6.778l2.34-13.226h6.252z"></path><path fill="url(#d)" d="M11.47 27.725H6.343a.566.566 0 0 1-.553-.656l.994-5.583h6.238l-1.025 5.793a.54.54 0 0 1-.525.445"></path><path fill="url(#e)" d="M26.666 8.252H9.141l1.105-6.239H27.58a.566.566 0 0 1 .552.66L27.22 7.82a.535.535 0 0 1-.553.432"></path></g><defs><linearGradient id="b" x1="2.717" x2="10.062" y1="5.128" y2="4.981" gradientUnits="userSpaceOnUse"><stop stop-color="#0062FF"></stop><stop offset=".26" stop-color="#006AFF"></stop><stop offset=".68" stop-color="#0081FF"></stop><stop offset="1" stop-color="#0097FF"></stop></linearGradient><linearGradient id="c" x1="12.383" x2="9.123" y1="7.623" y2="22.042" gradientUnits="userSpaceOnUse"><stop stop-color="#0097FF"></stop><stop offset=".32" stop-color="#0081FF"></stop><stop offset=".74" stop-color="#006AFF"></stop><stop offset="1" stop-color="#0062FF"></stop></linearGradient><linearGradient id="d" x1="5.631" x2="12.858" y1="27.363" y2="21.473" gradientUnits="userSpaceOnUse"><stop stop-color="#009EFF"></stop><stop offset=".31" stop-color="#00A3FF"></stop><stop offset=".71" stop-color="#00B3FF"></stop><stop offset="1" stop-color="#00C3FF"></stop></linearGradient><linearGradient id="e" x1="8.849" x2="27.94" y1="5.128" y2="4.746" gradientUnits="userSpaceOnUse"><stop offset=".03" stop-color="#ECFFFE"></stop><stop offset=".19" stop-color="#AFF1D9"></stop><stop offset=".34" stop-color="#79E5B9"></stop><stop offset=".49" stop-color="#4EDB9F"></stop><stop offset=".63" stop-color="#2CD48A"></stop><stop offset=".77" stop-color="#14CE7C"></stop><stop offset=".89" stop-color="#05CB73"></stop><stop offset="1" stop-color="#00CA70"></stop></linearGradient><clipPath id="a"><path fill="#fff" d="M2.978 2h25.14v25.72H2.979z"></path></clipPath></defs>',2),Mt=[Bt];function Ht(o,y){return n(),R("svg",At,[...Mt])}const jt={render:Ht},Dt="tdesign-console",Et="0.9.0",Nt="module",qt={"dev:mock":"vite --open --mode mock",dev:"vite --open --mode development","dev:linux":"vite --mode development","build:mock":"vite build --mode mock","build:test":"vite build --mode test",build:"vue-tsc --noEmit && vite build --mode release",preview:"vite preview","type-check":"vue-tsc --noEmit",lint:"eslint --ext .vue,.js,.jsx,.ts,.tsx ./ --max-warnings 0","lint:fix":"eslint --ext .vue,.js,jsx,.ts,.tsx ./ --max-warnings 0 --fix",stylelint:"stylelint src/**/*.{html,vue,sass,less}","stylelint:fix":"stylelint --fix src/**/*.{html,vue,css,sass,less}",prepare:"husky install","site:preview":"npm run build && cp -r dist _site",test:'echo "no test specified,work in process"',"test:coverage":'echo "no test:coverage specified,work in process"',"gh-pages":"gh-pages -d dist"},It={"@vueuse/core":"^10.7.2",axios:"^1.6.2","crypto-js":"^4.1.1",dayjs:"^1.11.10",echarts:"5.1.2","lodash-es":"^4.17.21",nprogress:"^0.2.0",pinia:"^2.1.7","pinia-plugin-persistedstate":"^3.2.0","qrcode.vue":"^3.4.1",qs:"^6.11.2","tdesign-icons-vue-next":"^0.2.2","tdesign-vue-next":"^1.9.3","tvision-color":"^1.6.0",vue:"^3.4.21","vue-clipboard3":"^2.0.0","vue-i18n":"^9.9.1","vue-router":"~4.2.4"},Ot={"@commitlint/cli":"^18.6.0","@commitlint/config-conventional":"^18.6.0","@types/crypto-js":"^4.1.1","@types/echarts":"^4.9.21","@types/lodash-es":"^4.17.6","@types/nprogress":"^0.2.3","@types/qs":"^6.9.11","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.11.0","@vitejs/plugin-vue":"^5.0.4","@vitejs/plugin-vue-jsx":"^3.0.2","@vue/compiler-sfc":"^3.3.8","@vue/eslint-config-typescript":"^12.0.0",commitizen:"^4.3.0","cz-conventional-changelog":"^3.3.0",eslint:"^8.56.0","eslint-config-airbnb-base":"^15.0.0","eslint-config-prettier":"^9.0.0","eslint-plugin-import":"^2.29.1","eslint-plugin-prettier":"^5.1.3","eslint-plugin-simple-import-sort":"^12.0.0","eslint-plugin-vue":"^9.21.1","eslint-plugin-vue-scoped-css":"^2.7.2","gh-pages":"^5.0.0",husky:"^9.0.10",less:"^4.2.0","lint-staged":"^15.2.2","postcss-html":"^1.6.0","postcss-less":"^6.0.0",prettier:"^3.2.5",stylelint:"~16.2.1","stylelint-config-standard":"^36.0.0","stylelint-order":"~6.0.4",typescript:"~5.3.3",vite:"^5.1.0","vite-plugin-mock":"^3.0.1","vite-svg-loader":"^5.1.0","vue-tsc":"^1.8.27"},Pt={commitizen:{path:"./node_modules/cz-conventional-changelog"}},zt="Base on tdesign-starter-cli",Ut={node:">=18.0.0"},Gt={name:Dt,version:Et,type:Nt,scripts:qt,dependencies:It,devDependencies:Ot,config:Pt,"lint-staged":{"*.{js,jsx,vue,ts,tsx}":["eslint --max-warnings 0 --fix","prettier --write"],"*.{html,vue,vss,sass,less}":["stylelint --fix"]},description:zt,engines:Ut},Vt={class:"version-container"},Kt=991,Yt=N({__name:"SideNav",props:{menu:{type:Array,default:()=>[]},showLogo:{type:Boolean,default:!0},isFixed:{type:Boolean,default:!0},layout:{type:String,default:""},headerHeight:{type:String,default:"64px"},theme:{type:String,default:"light"},isCompact:{type:Boolean,default:!1}},setup(o){const y=o,l=C(()=>z().isSidebarCompact),p=C(()=>ee()),a=C(()=>{const b=ee(),i=b.substring(0,b.lastIndexOf("/")),F=Ie();return et(F,i===""?[]:[i])}),u=C(()=>{const{isCompact:b}=y;return[`${S}-sidebar-layout`,{[`${S}-sidebar-compact`]:b}]}),d=C(()=>{const{showLogo:b,isFixed:i,layout:F}=y;return[`${S}-side-nav`,{[`${S}-side-nav-no-logo`]:!b,[`${S}-side-nav-no-fixed`]:!i,[`${S}-side-nav-mix-fixed`]:F==="mix"&&i}]}),w=Y(),s=z(),r=()=>{const b=window.innerWidth<=Kt;s.updateConfig({isSidebarCompact:b})};de(()=>{r(),window.onresize=()=>{r()}});const h=()=>{w.push(ue)},k=()=>l.value?jt:pe;return(b,i)=>{const F=f("t-menu");return n(),R("div",{class:j(u.value)},[t(F,{class:j(d.value),theme:o.theme,value:p.value,collapsed:l.value,"default-expanded":a.value},{logo:e(()=>[o.showLogo?(n(),R("span",{key:0,class:j(`${v(S)}-side-nav-logo-wrapper`),onClick:h},[(n(),g(U(k()),{class:j(`${v(S)}-side-nav-logo-${l.value?"t":"tdesign"}-logo`)},null,8,["class"]))],2)):H("",!0)]),operations:e(()=>[$("span",Vt,E(l.value?"":"TDesign Starter")+" "+E(v(Gt).version),1)]),default:e(()=>[t(he,{"nav-data":o.menu},null,8,["nav-data"])]),_:1},8,["class","theme","value","collapsed","default-expanded"]),$("div",{class:j(`${v(S)}-side-nav-placeholder${l.value?"-hidden":""}`)},null,2)],2)}}}),le=N({__name:"LayoutSideNav",setup(o){const y=Z(),l=te(),p=z(),{backMenuList:a}=W(l),u=C(()=>{const{layout:d,splitMenu:w}=p;let s=a.value;return d==="mix"&&w&&s.forEach(r=>{y.path.indexOf(r.path)===0&&(s=r.children.map(h=>({...h,path:`${r.path}/${h.path}`})))}),s});return(d,w)=>v(p).showSidebar?(n(),g(Yt,{key:0,"show-logo":v(p).showSidebarLogo,layout:v(p).layout,"is-fixed":v(p).isSidebarFixed,menu:u.value,theme:v(p).displayMode,"is-compact":v(p).isSidebarCompact},null,8,["show-logo","layout","is-fixed","menu","theme","is-compact"])):H("",!0)}}),to=N({__name:"index",setup(o){const y=Z(),l=z(),p=Q(),a=W(l),u=C(()=>[{"t-layout--with-sider":l.showSidebar}]),d=()=>{const{path:h,query:k,meta:{title:b},name:i}=y;p.appendTabRouterList({path:h,query:k,title:b,name:i,meta:y.meta,isAlive:!0})},w=X(!1),s=ie(),r=()=>{setInterval(async()=>{const h=s.getTokenTime;if(!h)return;fe().diff(h,"second")>=Pe.tokenTime&&!w.value&&(w.value=!0,await s.handleRefreshToken(),w.value=!1,console.log("token刷新成功"))},1e4)};return de(()=>{d(),r()}),Oe(()=>y.path,()=>{d(),document.querySelector(`.${S}-layout`).scrollTo({top:0,behavior:"smooth"})}),(h,k)=>{const b=f("t-aside"),i=f("t-header"),F=f("t-content"),L=f("t-layout");return n(),R("div",null,[v(a).layout.value==="side"?(n(),g(L,{key:"side",class:j(u.value)},{default:e(()=>[t(b,null,{default:e(()=>[t(le)]),_:1}),t(L,null,{default:e(()=>[t(i,null,{default:e(()=>[t(ce)]),_:1}),t(F,null,{default:e(()=>[t(ae)]),_:1})]),_:1})]),_:1},8,["class"])):(n(),g(L,{key:"no-side"},{default:e(()=>[t(i,null,{default:e(()=>[t(ce)]),_:1}),t(L,{class:j(u.value)},{default:e(()=>[t(le),t(ae)]),_:1},8,["class"])]),_:1})),t(Ue)])}}});export{to as default};
