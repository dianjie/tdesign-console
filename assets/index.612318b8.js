import{a as D,b as E,d as V,r as f,y as T,C as L,e as R,f as k,i as $,l as N,w as U,n as W,q as w,j as t,D as v,_ as j}from"./index.ec7ccd34.js";import{u as q}from"./index.6fae05ac.js";import{u as I}from"./useDesign.9d0ca2bc.js";function M(s,a,i=150){let e=()=>{s()};e=q(e,i);const n=()=>{a&&a.immediate&&e(),window.addEventListener("resize",e)},r=()=>{window.removeEventListener("resize",e)};return D(()=>{n()}),E(()=>{r()}),[n,r]}const A=["src"],G=V({__name:"index",props:{frameSrc:String,isDialog:Boolean},setup(s){const a=s,i=f(!0),e=f(window.innerHeight),m=f(),{prefixCls:n}=I("iframe-page"),r=T();M(h,{immediate:!0});const _=L(()=>({height:`${t(e)}px`})),c=getComputedStyle(document.documentElement),x=c.getPropertyValue("--td-comp-size-xxxl"),S=c.getPropertyValue("--td-comp-size-xxxxl"),z=c.getPropertyValue("--td-comp-paddingTB-xl"),H=c.getPropertyValue("--td-comp-paddingTB-xxl");function h(){const u=t(m);if(!u)return;let l=0;if(a.isDialog){const o=parseFloat(x),g=parseFloat(S),p=parseFloat(z)*2,d=o+g+p+2;e.value=window.innerHeight-d,l=document.documentElement.clientHeight-d}else{const{showFooter:o,isUseTabsRouter:g,showBreadcrumb:p}=r,d=parseFloat(x),B=g?48:0,C=p?46:0,P=parseFloat(H)*2,b=o?44:0,y=d+B+C+P+b+2;e.value=window.innerHeight-y,l=document.documentElement.clientHeight-y}u.style.height=`${l}px`}function F(){i.value=!1,h()}return(u,l)=>{const o=R("t-loading");return k(),$("div",{class:w(t(n)),style:v(t(_))},[N(o,{loading:i.value,size:"large",style:v(t(_))},{default:U(()=>[W("iframe",{ref_key:"frameRef",ref:m,src:s.frameSrc,class:w(`${t(n)}__main`),onLoad:F},null,42,A)]),_:1},8,["loading","style"])],6)}}});const Q=j(G,[["__scopeId","data-v-4440015a"],["__file","D:/Study/tdesign-console/src/pages/iframe/index.vue"]]);export{Q as F};
