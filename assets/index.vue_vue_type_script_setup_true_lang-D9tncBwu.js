import{i as n,g as f}from"./flow-fOLvsXZF.js";import{d as g,f as u,a7 as c,r as v,o as b,m as w,w as y,e as _,ao as h,ap as k,aq as x}from"./index-OjS_2jsV.js";const B=["src"],C=g({__name:"index",props:{visible:{type:Boolean,default:!1},type:{type:String,default:"resource",validator(s){return["diagram","resource"].includes(s)}},rowData:{type:Object,default:()=>({})}},emits:["update:visible"],setup(s,{emit:d}){const l=s,m=d,t=u(!1),o=u(""),p=a=>{let e=null;switch(l.type){case"diagram":e=f;break;case"resource":e=n;break;default:e=n;break}const i=e(a);h(i).then(r=>{o.value=k(r)}).catch(()=>{o.value=x}).finally(()=>{t.value=!0})};return c(()=>t.value,a=>{m("update:visible",a)}),c(()=>l.visible,a=>{a&&p(l.rowData)}),(a,e)=>{const i=v("t-dialog");return b(),w(i,{visible:t.value,"onUpdate:visible":e[0]||(e[0]=r=>t.value=r),header:"流程图",width:"65%","cancel-btn":null,onConfirm:e[1]||(e[1]=()=>{t.value=!1})},{body:y(()=>[_("img",{src:o.value,alt:"流程图",style:{display:"block",margin:"0 auto",padding:"25px 0"}},null,8,B)]),_:1},8,["visible"])}}});export{C as _};
