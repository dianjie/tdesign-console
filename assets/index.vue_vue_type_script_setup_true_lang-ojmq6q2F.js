import{i as n,g as f}from"./flow-DzSZmebQ.js";import{d as g,f as u,a2 as m,r as v,o as b,m as w,w as y,e as _,ak as k,al as h,am as x}from"./index-CqGaQ7t4.js";const B=["src"],C=g({__name:"index",props:{visible:{type:Boolean,default:!1},type:{type:String,default:"resource",validator(l){return["diagram","resource"].includes(l)}},rowData:{type:Object,default:()=>({})}},emits:["update:visible"],setup(l,{emit:c}){const s=l,d=c,t=u(!1),o=u(""),p=a=>{let e=null;switch(s.type){case"diagram":e=f;break;case"resource":e=n;break;default:e=n;break}const i=e(a);k(i).then(r=>{o.value=h(r)}).catch(()=>{o.value=x}).finally(()=>{t.value=!0})};return m(()=>t.value,a=>{d("update:visible",a)}),m(()=>s.visible,a=>{a&&p(s.rowData)}),(a,e)=>{const i=v("t-dialog");return b(),w(i,{visible:t.value,"onUpdate:visible":e[0]||(e[0]=r=>t.value=r),header:"流程图",width:"65%","cancel-btn":null,onConfirm:e[1]||(e[1]=()=>{t.value=!1})},{body:y(()=>[_("img",{src:o.value,alt:"流程图",style:{display:"block",margin:"0 auto",padding:"25px 0"}},null,8,B)]),_:1},8,["visible"])}}});export{C as _};
